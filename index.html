<!DOCTYPE html>
<html lang="en">

<head>
    <title></title>
    <meta charset="utf-8">
    <meta name="generator" content="Three.js Editor">
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
</head>

<body ontouchstart="">
    <script src="js/three.min.js"></script>
    <script src="js/jquery-3.4.1.min.js"></script>
    <script src="js/data.js"></script>
    <script src="js/app.js"></script>
    <script src="js/steps.js"></script>
    <script src="js/expo.js"></script>
    <script src="js/controls.js"></script>
    <script src="js/expo_data.js"></script>
    <style>
        body {
            background-color: #000;
            margin: 0px;
            overflow: hidden;
        }
    </style>
    <script>
        var player = new APP.Player();
        player.load(appdata);
        player.setSize(window.innerWidth, window.innerHeight);
        player.play();

        document.body.appendChild(player.dom);

        window.addEventListener('resize', function() {
            player.setSize(window.innerWidth, window.innerHeight);
        });
        $(document).ready(function() {
            /* $(document).on('touchmove', function(){
                if(Handler.intro_done == undefined){
                    Handler.intro();
                }else{
                    Handler.expo.duration = 5000;
                    Handler.expo.next();
                }

            });
            
            var timeout;
            var lastTap = 0;
            $(document).on('touchend', function(event) {
                var currentTime = new Date().getTime();
                var tapLength = currentTime - lastTap;
                clearTimeout(timeout);
                if (tapLength < 500 && tapLength > 0) {
                    Handler.expo.duration = 8000;
                    Handler.expo.end();
                    Handler.final();
                    event.preventDefault();
                }
                lastTap = currentTime;
            }); */


            $(document).on('keypress', function(e) {
                if (e.key == 'i') {
                    Handler.intro();
                    Handler.expo.duration = 5000;
                    Handler.expo.next();
                };
                if (e.key == 'f') {
                    Handler.expo.duration = 8000;
                    Handler.expo.end();
                    Handler.final();
                }
            });
            $(document).on('keydown', function(e) {
                console.log(e.key);
                if (e.key == 'ArrowDown') {
                    Handler.expo.duration = 3000;
                    Handler.expo.next();
                    Handler.toggle_slide();
                };
                if (e.key == 'ArrowUp') {
                    Handler.expo.duration = 3000;
                    Handler.expo.prev();
                    Handler.toggle_slide();
                };

            });
        });
    </script>
    <div class="expo_text">
    </div>
    <div class="expo_frame"></div>
</body>

</html>